[gd_scene load_steps=4 format=3 uid="uid://bwceom4mhsge3"]

[ext_resource type="Script" uid="uid://3is7pnpie4g6" path="res://scripts/manage_scene.gd" id="1_manage"]
[ext_resource type="Texture2D" uid="uid://ds5jfj3n08x4b" path="res://assets/wallpaper.png" id="2_wallpaper"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_popup"]
bg_color = Color(0.212, 0.235, 0.271, 1)
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 3
border_color = Color(0.753, 0.412, 0.106, 1)
corner_radius_top_left = 8
corner_radius_top_right = 8
corner_radius_bottom_right = 8
corner_radius_bottom_left = 8

[node name="ManageScene" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_manage")

[node name="Background" type="TextureRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
texture = ExtResource("2_wallpaper")
expand_mode = 1
stretch_mode = 6

[node name="MainMargin" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 16

[node name="MainVBox" type="VBoxContainer" parent="MainMargin"]
layout_mode = 2
theme_override_constants/separation = 12

[node name="TopBar" type="PanelContainer" parent="MainMargin/MainVBox"]
layout_mode = 2

[node name="TopBarHBox" type="HBoxContainer" parent="MainMargin/MainVBox/TopBar"]
layout_mode = 2
theme_override_constants/separation = 20

[node name="Spacer" type="Control" parent="MainMargin/MainVBox/TopBar/TopBarHBox"]
layout_mode = 2
size_flags_horizontal = 3

[node name="DayResultsButton" type="Button" parent="MainMargin/MainVBox/TopBar/TopBarHBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "üìã Day Results"

[node name="MainMenuButton" type="Button" parent="MainMargin/MainVBox/TopBar/TopBarHBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 16
text = "Main Menu"

[node name="ContentHBox" type="HBoxContainer" parent="MainMargin/MainVBox"]
layout_mode = 2
size_flags_vertical = 3
theme_override_constants/separation = 16

[node name="LeftPanel" type="VBoxContainer" parent="MainMargin/MainVBox/ContentHBox"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 12

[node name="CurrentStateCard" type="PanelContainer" parent="MainMargin/MainVBox/ContentHBox/LeftPanel"]
layout_mode = 2

[node name="StateMargin" type="MarginContainer" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/CurrentStateCard"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 16

[node name="StateVBox" type="VBoxContainer" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/CurrentStateCard/StateMargin"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="StateTitle" type="Label" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/CurrentStateCard/StateMargin/StateVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 22
text = "Current Status"
horizontal_alignment = 1

[node name="HSeparator" type="HSeparator" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/CurrentStateCard/StateMargin/StateVBox"]
layout_mode = 2

[node name="MoneyLabel" type="Label" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/CurrentStateCard/StateMargin/StateVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 20
text = "üí∞ $500"

[node name="CapacityLabel" type="Label" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/CurrentStateCard/StateMargin/StateVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 20
text = "üë• Capacity: 5"

[node name="DayLabel" type="Label" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/CurrentStateCard/StateMargin/StateVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 20
text = "üìÖ Day 1"

[node name="UpgradesCard" type="PanelContainer" parent="MainMargin/MainVBox/ContentHBox/LeftPanel"]
layout_mode = 2
size_flags_vertical = 3

[node name="UpgradesMargin" type="MarginContainer" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 16

[node name="UpgradesVBox" type="VBoxContainer" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="UpgradesTitle" type="Label" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 22
text = "Upgrades"
horizontal_alignment = 1

[node name="HSeparator" type="HSeparator" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox"]
layout_mode = 2

[node name="UpgradesList" type="VBoxContainer" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox"]
layout_mode = 2
size_flags_vertical = 3
theme_override_constants/separation = 8

[node name="CapacityUpgradeRow" type="HBoxContainer" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox/UpgradesList"]
layout_mode = 2

[node name="UpgradeLabel" type="Label" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox/UpgradesList/CapacityUpgradeRow"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_font_sizes/font_size = 18
text = "üë• +1 Capacity"

[node name="CapacityUpgradeButton" type="Button" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox/UpgradesList/CapacityUpgradeRow"]
custom_minimum_size = Vector2(120, 0)
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "$1,000"

[node name="UndoSpacer" type="Control" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox"]
layout_mode = 2
size_flags_vertical = 3

[node name="UndoButton" type="Button" parent="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "‚Ü© Undo Last Purchase"

[node name="RightPanel" type="VBoxContainer" parent="MainMargin/MainVBox/ContentHBox"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 12

[node name="TomorrowCard" type="PanelContainer" parent="MainMargin/MainVBox/ContentHBox/RightPanel"]
layout_mode = 2
size_flags_vertical = 3

[node name="TomorrowMargin" type="MarginContainer" parent="MainMargin/MainVBox/ContentHBox/RightPanel/TomorrowCard"]
layout_mode = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 16
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 16

[node name="TomorrowVBox" type="VBoxContainer" parent="MainMargin/MainVBox/ContentHBox/RightPanel/TomorrowCard/TomorrowMargin"]
layout_mode = 2
theme_override_constants/separation = 12

[node name="TomorrowTitle" type="Label" parent="MainMargin/MainVBox/ContentHBox/RightPanel/TomorrowCard/TomorrowMargin/TomorrowVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "Tomorrow: Day 2"
horizontal_alignment = 1

[node name="HSeparator" type="HSeparator" parent="MainMargin/MainVBox/ContentHBox/RightPanel/TomorrowCard/TomorrowMargin/TomorrowVBox"]
layout_mode = 2

[node name="ThemeLabel" type="Label" parent="MainMargin/MainVBox/ContentHBox/RightPanel/TomorrowCard/TomorrowMargin/TomorrowVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 20
text = "üé≠ Theme: Carneval (+100%)"
horizontal_alignment = 1

[node name="RentLabel" type="Label" parent="MainMargin/MainVBox/ContentHBox/RightPanel/TomorrowCard/TomorrowMargin/TomorrowVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 20
text = "üè† Rent Due: $1,300"
horizontal_alignment = 1

[node name="RentWarning" type="Label" parent="MainMargin/MainVBox/ContentHBox/RightPanel/TomorrowCard/TomorrowMargin/TomorrowVBox"]
layout_mode = 2
theme_override_colors/font_color = Color(0.7, 0.7, 0.7, 1)
theme_override_font_sizes/font_size = 14
text = "Rent is paid at the end of the day"
horizontal_alignment = 1

[node name="StartDayButton" type="Button" parent="MainMargin/MainVBox/ContentHBox/RightPanel"]
custom_minimum_size = Vector2(0, 60)
layout_mode = 2
theme_override_font_sizes/font_size = 28
text = "‚ñ∂ Start Day"

[node name="DayResultsPopup" type="AcceptDialog" parent="."]
title = "Day Results"
size = Vector2i(400, 300)
theme_override_styles/embedded_border = SubResource("StyleBoxFlat_popup")
unresizable = true

[node name="MarginContainer" type="MarginContainer" parent="DayResultsPopup"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 8.0
offset_top = 8.0
offset_right = -8.0
offset_bottom = -40.0

[node name="VBoxContainer" type="VBoxContainer" parent="DayResultsPopup/MarginContainer"]
layout_mode = 2

[node name="PopupDayLabel" type="Label" parent="DayResultsPopup/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "Day 0 Results"
horizontal_alignment = 1

[node name="HSeparator" type="HSeparator" parent="DayResultsPopup/MarginContainer/VBoxContainer"]
layout_mode = 2

[node name="PopupInitialMoneyLabel" type="Label" parent="DayResultsPopup/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Starting Money: $0"

[node name="PopupInitialCapacityLabel" type="Label" parent="DayResultsPopup/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Starting Capacity: 0"

[node name="HSeparator2" type="HSeparator" parent="DayResultsPopup/MarginContainer/VBoxContainer"]
layout_mode = 2

[node name="PopupCurrentMoneyLabel" type="Label" parent="DayResultsPopup/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Current Money: $0"

[node name="PopupCurrentCapacityLabel" type="Label" parent="DayResultsPopup/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Current Capacity: 0"

[node name="PopupMoneySpentLabel" type="Label" parent="DayResultsPopup/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 18
text = "Money Spent: $0"

[connection signal="pressed" from="MainMargin/MainVBox/TopBar/TopBarHBox/DayResultsButton" to="." method="_on_day_results_button_pressed"]
[connection signal="pressed" from="MainMargin/MainVBox/TopBar/TopBarHBox/MainMenuButton" to="." method="_on_main_menu_button_pressed"]
[connection signal="pressed" from="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox/UpgradesList/CapacityUpgradeRow/CapacityUpgradeButton" to="." method="_on_capacity_upgrade_button_pressed"]
[connection signal="pressed" from="MainMargin/MainVBox/ContentHBox/LeftPanel/UpgradesCard/UpgradesMargin/UpgradesVBox/UndoButton" to="." method="_on_undo_button_pressed"]
[connection signal="pressed" from="MainMargin/MainVBox/ContentHBox/RightPanel/StartDayButton" to="." method="_on_start_day_button_pressed"]
